<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Paneurasia Hollow Globe</title>
  <style>
    html, body { height: 100%; margin: 0; background: #05070c; overflow: hidden; }
    #globe { width: 100vw; height: 100vh; }
    .vignette{
      position: fixed; inset: 0; pointer-events: none;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.6) 100%);
    }
  </style>

  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
  <script src="https://unpkg.com/globe.gl@2.33.1/dist/globe.gl.min.js"></script>
</head>
<body>
  <div id="globe"></div>
  <div class="vignette"></div>

  <script>
    window.addEventListener("load", () => {
      const GOLD = "#d6b24c";

      const cities = [
        { name: "Toronto",     role: "Global Coordination", lat: 43.6532, lon: -79.3832 },
        { name: "Panama City", role: "Trade Structuring",   lat:  8.9824, lon: -79.5199 },
        { name: "Los Angeles", role: "North America",       lat: 34.0522, lon:-118.2437 },
        { name: "Mexico City", role: "LatAm Network",       lat: 19.4326, lon: -99.1332 },
        { name: "Baku",        role: "Eurasia Access",      lat: 40.4093, lon:  49.8671 },
        { name: "Hong Kong",   role: "Asia Interface",      lat: 22.3193, lon: 114.1694 },
        { name: "Singapore",   role: "Asia Trading Hub",    lat:  1.3521, lon: 103.8198 }
      ];

      const el = document.getElementById("globe");

      const globe = Globe()(el)
        .width(window.innerWidth)
        .height(window.innerHeight)
        .backgroundColor("#05070c")
        .globeImageUrl(null)
        .bumpImageUrl(null);

      // Hollow wire sphere
      const R = globe.getGlobeRadius();
      const sphereGeom = new THREE.SphereGeometry(R, 64, 64);
      const wireMat = new THREE.MeshBasicMaterial({
        color: 0x243041, wireframe: true, transparent: true, opacity: 0.22
      });
      globe.scene().add(new THREE.Mesh(sphereGeom, wireMat));

      // City points
      globe
        .pointsData(cities)
        .pointLat(d => d.lat)
        .pointLng(d => d.lon)
        .pointColor(() => GOLD)
        .pointRadius(0.42)
        .pointAltitude(0.03)
        .pointsMerge(true)
        .pointLabel(d => `
          <div style="font-family: Arial, sans-serif; font-size: 12px; line-height: 1.25;">
            <div style="font-weight:700; color:#fff;">${d.name}</div>
            <div style="color:rgba(255,255,255,0.75);">${d.role}</div>
          </div>
        `);

      // Subtle rings
      globe
        .ringsData(cities)
        .ringLat(d => d.lat)
        .ringLng(d => d.lon)
        .ringColor(() => [GOLD, "rgba(0,0,0,0)"])
        .ringMaxRadius(2.4)
        .ringPropagationSpeed(0.9)
        .ringRepeatPeriod(1700);

      // Atlantic start
      globe.pointOfView({ lat: 20, lng: -30, altitude: 1.6 }, 0);

      // Rotation
      globe.controls().autoRotate = true;
      globe.controls().autoRotateSpeed = 0.35;
      globe.controls().enableZoom = false;
      globe.controls().enablePan = false;

      // Lighting
      globe.scene().add(new THREE.AmbientLight(0xffffff, 0.9));
      const dl = new THREE.DirectionalLight(0xffffff, 0.8);
      dl.position.set(-50, 40, 30);
      globe.scene().add(dl);

      // Resize handling
      window.addEventListener("resize", () => {
        globe.width(window.innerWidth);
        globe.height(window.innerHeight);
      });
    });
  </script>
</body>
</html>
